name: publish

on:
  push:
    branches:
      - main

jobs:
  Publish_Wiki:
    runs-on: ubuntu-22.04
    steps:
    - name: Fetch lsb-wiki changes
      run: |
        git clone git@github.com:zach2good/server.wiki.git
        cd server.wiki

        git remote add lsb-wiki https://github.com/zach2good/lsb-wiki.git
        git fetch lsb-wiki main:lsb-wiki

        # Force-push local lsb-wiki branch onto server.wiki's master branch (this is the visible branch)
        git push --force origin lsb-wiki:master
